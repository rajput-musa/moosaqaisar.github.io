import{r as s,u as v,j as r}from"./index-B-cxPEeT.js";import{F as j}from"./FilterDropdown-CQelXEya.js";import{m as g}from"./proxy-BQOzXaEv.js";function _(){const[o,l]=s.useState([]),[f,c]=s.useState(!0),[d,p]=s.useState(null),[n,i]=s.useState(""),[m]=v();s.useEffect(()=>{const e=m.get("filter")||"";i(e)},[m]),s.useEffect(()=>{fetch("https://raw.githubusercontent.com/aidanandrews22/aidanandrews22.github.io/main/content/reading_list.json").then(e=>e.json()).then(e=>{try{const t=e.sort((a,u)=>{try{return new Date(u.dateAdded).getTime()-new Date(a.dateAdded).getTime()}catch(y){return console.error("Error sorting paper dates:",y),0}});l(t)}catch(t){console.error("Error processing reading list data:",t),l([])}finally{c(!1)}}).catch(e=>{console.error("Error fetching reading list:",e),p("Failed to load reading list. Please try again later."),c(!1)})},[]);const h=s.useMemo(()=>{try{const e=new Set;return o.forEach(t=>{try{t.tags&&Array.isArray(t.tags)&&t.tags.length>0&&t.tags.forEach(a=>{a&&typeof a=="string"&&e.add(a)})}catch(a){console.error("Error processing tags for paper:",t.id,a)}}),Array.from(e).sort()}catch(e){return console.error("Error generating available tags:",e),[]}},[o]),x=s.useMemo(()=>{try{return o.filter(e=>!n||e.tags&&Array.isArray(e.tags)&&e.tags.includes(n))}catch(e){return console.error("Error filtering papers:",e),o}},[o,n]);return f?r.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:"Loading reading list..."}):d?r.jsx("div",{className:"flex justify-center items-center min-h-[50vh] text-red-500",children:d}):r.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-3xl mx-auto space-y-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[r.jsx("h1",{className:"text-4xl font-bold",children:"Reading List"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:h.length>0&&r.jsx(j,{options:h,selectedOption:n,onSelect:i,label:"Tag",paramName:"filter"})})]}),x.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsxs("p",{children:["No papers found",n?` with tag "${n}"`:"","."]}),n&&r.jsx("button",{onClick:()=>i(""),className:"mt-4 px-4 py-2 text-sm rounded-lg bg-[color-mix(in_oklch,var(--color-primary)_10%,transparent)] hover:bg-[color-mix(in_oklch,var(--color-primary)_20%,transparent)]",children:"Clear filters"})]}):r.jsx("div",{className:"space-y-4",children:x.map((e,t)=>r.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"p-6 rounded-lg border border-transparent hover:border-[color-mix(in_oklch,var(--color-primary)_30%,transparent)] transition-all duration-200 hover:shadow-sm",children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[r.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold hover:text-[var(--color-primary)] transition-colors group",children:[e.title,r.jsx("span",{className:"inline-block ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"â†—"})]}),r.jsxs("div",{className:"text-sm text-[color-mix(in_oklch,var(--color-primary)_60%,transparent)] shrink-0",children:["Added: ",new Date(e.dateAdded).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.tags.map(a=>r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-[color-mix(in_oklch,var(--color-primary)_10%,transparent)] text-[color-mix(in_oklch,var(--color-primary)_80%,transparent)]",children:a},a))})]})},e.id))})]})}export{_ as default};
