import{r,j as e}from"./index-BEoMmniv.js";import{F as h}from"./FilterDropdown-D9bcIKL0.js";import{P as u}from"./ProjectCard-WOZLg-kC.js";import{m as p}from"./proxy-dKd9gaH7.js";function E(){const[a,l]=r.useState([]),[d,i]=r.useState(!0),[n,m]=r.useState(null),[o,f]=r.useState("");r.useEffect(()=>{(async()=>{try{const t=await fetch("/moosaqaisar.github.io/projects.json");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const c=await t.json();l(Array.isArray(c)?c:[]),i(!1)}catch(t){console.error("Error fetching projects:",t),m(t instanceof Error?t.message:"Failed to fetch projects"),i(!1)}})()},[]);const j=r.useMemo(()=>{const s=new Set;return a.forEach(t=>{t.tags.forEach(c=>s.add(c))}),Array.from(s).sort()},[a]),x=r.useMemo(()=>o?a.filter(s=>s.tags.includes(o)):a,[a,o]);return d?e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx("p",{className:"text-lg",children:"Loading projects..."})}):n?e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-[50vh] space-y-4",children:[e.jsxs("p",{className:"text-lg text-red-500",children:["Error: ",n]}),e.jsx("p",{className:"text-sm",children:"Please try refreshing the page"})]}):a.length?e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Projects"}),e.jsx(h,{options:j,selectedOption:o,onSelect:f,label:"Filter by Tag"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:x.map((s,t)=>e.jsx(u,{project:s,index:t},s.id))})]}):e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx("p",{className:"text-lg",children:"No projects found"})})}export{E as default};
